spring:
  application:
    name: memora-core

  datasource:
    url: jdbc:postgresql://localhost:5432/memora_db
    username: memora
    password: memora
    driver-class-name: org.postgresql.Driver
  jpa:
    hibernate:
      ddl-auto: update # En prod, on mettra 'validate'
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
  kafka:
    bootstrap-servers: localhost:9092
    producer:
      key-serializer: org.apache.kafka.common.serialization.StringSerializer
      value-serializer: org.springframework.kafka.support.serializer.JsonSerializer
      properties:
        spring.json.add.type.headers: true
    consumer:
      group-id: memora-group
      auto-offset-reset: earliest
      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer
      value-deserializer: org.springframework.kafka.support.serializer.JsonDeserializer
      properties:
        spring.json.trusted.packages: "com.memora.domain"
  ai:
    ollama:
      base-url: http://localhost:11434 # L'adresse par défaut d'Ollama
      chat:
        model: mistral # Le modèle pour répondre
        temperature: 0.3  # <--- AJOUTE ÇA (C'était 0.7 par défaut)
        top-k: 10         # Limite les choix de mots farfelus
      embedding:
        model: nomic-embed-text # Le modèle pour vectoriser
memora:
  kafka:
    topics:
      ingest: "memora-ingest-events-v1"